<div class="container pt-3">
  <div class="row">
    <div class="col-12">
      <h3 class="color-primary">
        فهرست پروژه ها
      </h3>
    </div>
  </div>
  <div class="row justify-content-center">
    <div class="col-md-10">

      <mat-card class="p-4 rounded-2xl shadow-md">

        <input matInput placeholder="جستجو ..." (input)="applyFilter($event)" class="mb-3 w-full border rounded p-2">

        <table mat-table [dataSource]="dataSource" class="w-full">

          <!-- index -->
          <ng-container matColumnDef="index">
            <th mat-header-cell *matHeaderCellDef>#</th>
            <td mat-cell *matCellDef="let row; let i = index">
              {{ i + 1 }}
            </td>
          </ng-container>

          <!-- image -->
          <ng-container matColumnDef="image">
            <th mat-header-cell *matHeaderCellDef>تصویر</th>
            <td mat-cell *matCellDef="let row" style="width:150px;">
              <img [src]="row.coverImageUrl" class="w-100 rounded object-cover">
            </td>
          </ng-container>

          <!-- title -->
          <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef>عنوان</th>
            <td mat-cell *matCellDef="let row">
              {{ row.title }}
            </td>
          </ng-container>

          <!-- description -->
          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef>توضیحات</th>
            <td mat-cell *matCellDef="let row">
              {{ row.description || '—' }}
            </td>
          </ng-container>

          <!-- options -->
          <ng-container matColumnDef="options">
            <th mat-header-cell *matHeaderCellDef>عملیات</th>
            <td mat-cell *matCellDef="let row">

              <a mat-fab color="primary"
                 href="/admin/projects/edit/{{row.id}}"
                 aria-label="edit" class="profile-option-button" matTooltip="ویرایش پروژه">
                <mat-icon fontSet="material-icons-outlined">settings</mat-icon>
              </a>

              <button mat-fab color="warn" aria-label="delete" class="profile-option-button" matTooltip="حذف پروژه">
                <mat-icon fontSet="material-icons-outlined">delete</mat-icon>
              </button>

            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <mat-paginator [pageSize]="5"></mat-paginator>
      </mat-card>


    </div>
  </div>
</div>
